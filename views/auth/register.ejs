<%- include("../partials/header") %>
<section class="auth auth-login">
  <div class="auth-head">
    <p class="kicker">Novo cadastro</p>
    <h1>Criar conta cliente</h1>
    <p class="muted">Preencha os seus dados para criar a conta.</p>
  </div>
  <form method="post" action="/register" class="form">
    <label>Nome completo</label>
    <div class="input-with-icon">
      <i class="bi bi-person icon" aria-hidden="true"></i>
      <input type="text" name="name" placeholder="Digite seu nome completo" required />
    </div>

    <label>Telefone</label>
    <div class="input-with-icon">
      <i class="bi bi-telephone icon" aria-hidden="true"></i>
      <input type="text" name="phone" placeholder="Ex.: 84 000 0000" required />
    </div>

    <label>Email</label>
    <div class="input-with-icon">
      <i class="bi bi-envelope icon" aria-hidden="true"></i>
      <input type="email" name="email" placeholder="seuemail@exemplo.com" required />
    </div>

    <label>Senha
      <div class="input-with-icon password-field">
        <i class="bi bi-lock icon" aria-hidden="true"></i>
        <input id="register-password" type="password" name="password" minlength="6" placeholder="Minimo de 6 caracteres" required />
        <button id="toggle-register-password" type="button" class="password-toggle" aria-label="Mostrar senha">
          <i class="bi bi-eye" aria-hidden="true"></i>
        </button>
      </div>
    </label>
    <button class="btn auth-submit" type="submit">Criar conta</button>
  </form>
  <p class="auth-alt">Ja tem conta? <a href="/login">Entrar</a></p>
</section>
<script>
  (function () {
    var passwordInput = document.getElementById("register-password");
    var toggleBtn = document.getElementById("toggle-register-password");
    if (!passwordInput || !toggleBtn) return;
    toggleBtn.addEventListener("click", function () {
      var showing = passwordInput.type === "text";
      passwordInput.type = showing ? "password" : "text";
      toggleBtn.setAttribute("aria-label", showing ? "Mostrar senha" : "Ocultar senha");
      toggleBtn.innerHTML = showing
        ? '<i class="bi bi-eye" aria-hidden="true"></i>'
        : '<i class="bi bi-eye-slash" aria-hidden="true"></i>';
    });
  })();
</script>
<%- include("../partials/footer") %>
